# 業務分析師(BA) - 音樂播放器專案需求分析

## 專案概述
個人YouTube音樂播放器應用程式，採用簡化技術方案，使用YouTube iframe播放，提供播放清單管理與會員功能。

## 需求分析

### 原始需求
1. 個人音樂播放器，音樂來源為YouTube
2. 播放清單功能與會員功能
3. 側邊欄功能列，後台式橫向架構
4. 底部顯示當前音樂播放資訊

### 修訂需求與技術調整
5. **簡化技術方案**：
   - 暫不實作YouTube搜尋功能
   - 不串接YouTube Data API
   - 使用YouTube iframe方式播放
   - 播放頁面顯示影片，其他頁面隱藏播放畫面

## 功能性需求分析

### 1. 核心播放功能（修訂版）

#### 1.1 音樂來源管理
- **手動添加**: 用戶輸入YouTube影片URL
- **URL解析**: 系統解析YouTube影片ID
- **影片資訊**: 手動編輯或自動抓取標題、時長
- **URL驗證**: 確保輸入的是有效YouTube連結

#### 1.2 播放控制系統
- **YouTube iframe播放器**: 使用官方嵌入播放器
- **播放控制**: 透過YouTube iframe API控制播放、暫停、音量
- **條件式顯示**: 
  - 播放頁面：顯示完整影片畫面
  - 其他頁面：隱藏影片，僅保留控制欄
- **播放狀態同步**: 確保跨頁面播放狀態一致

#### 1.3 播放清單管理（簡化版）
- **創建播放清單**: 用戶創建並命名播放清單
- **手動添加歌曲**: 輸入YouTube URL添加到播放清單
- **歌曲管理**: 編輯歌曲標題、調整順序、刪除歌曲
- **播放清單播放**: 自動播放下一首功能

### 2. 會員系統

#### 2.1 用戶管理
- **註冊登入**: 基本的帳號系統
- **個人資料**: 暱稱、頭像設定
- **播放清單同步**: 跨裝置播放清單保存

#### 2.2 資料持久化
- **播放清單儲存**: 保存用戶的播放清單
- **播放記錄**: 記錄播放歷史
- **偏好設定**: 音量、播放模式等設定

### 3. 使用者介面設計

#### 3.1 佈局架構
- **側邊欄導航**: 播放清單、設定、個人資料
- **主要內容區**: 依功能切換顯示不同頁面
- **底部播放欄**: 固定顯示當前播放資訊與控制按鈕
- **播放頁面**: 專門的影片播放頁面

#### 3.2 頁面管理
- **播放頁面**: 顯示YouTube iframe播放器
- **播放清單頁面**: 管理播放清單，隱藏影片
- **設定頁面**: 個人設定，隱藏影片
- **播放狀態同步**: 確保音樂在頁面切換時持續播放

## 技術架構（簡化方案）

### 前端技術堆疊
- **主框架**: React.js 或 Vue.js
- **UI組件庫**: Material-UI 或 Ant Design
- **狀態管理**: Context API 或 Vuex/Pinia
- **YouTube整合**: YouTube iframe API
- **路由管理**: React Router 或 Vue Router

### 後端技術堆疊
- **應用框架**: Node.js (Express) 或 Python (Flask)
- **資料庫**: SQLite (開發) / PostgreSQL (生產)
- **身份驗證**: JWT Token
- **API設計**: RESTful API

### 核心技術模組
- **YouTube URL解析器**: 解析並驗證YouTube連結
- **iframe控制器**: 管理YouTube播放器狀態
- **播放狀態管理**: 跨頁面播放狀態同步
- **播放清單引擎**: 自動播放下一首邏輯

## 用戶故事（修訂版）

### Epic 1: 播放清單管理
**作為用戶，我希望能夠手動建立和管理我的YouTube音樂播放清單**

**User Story 1.1**: 添加YouTube音樂
- 作為用戶，我希望能夠透過輸入YouTube URL添加音樂到播放清單
- 驗收標準：
  - 可以輸入完整的YouTube影片URL
  - 系統自動解析並驗證URL有效性
  - 可以手動編輯歌曲標題和藝術家資訊
  - 無效URL會顯示錯誤訊息

**User Story 1.2**: 播放清單操作
- 作為用戶，我希望能夠管理播放清單中的歌曲
- 驗收標準：
  - 可以調整歌曲在播放清單中的順序
  - 可以刪除不想要的歌曲
  - 可以複製歌曲到其他播放清單

### Epic 2: 音樂播放體驗
**作為用戶，我希望能夠在不同頁面間切換時保持音樂播放**

**User Story 2.1**: 條件式影片顯示
- 作為用戶，我希望只在播放頁面看到影片畫面
- 驗收標準：
  - 在播放頁面可以看到完整的YouTube影片
  - 在其他頁面時，影片畫面隱藏但音樂繼續播放
  - 底部播放欄在所有頁面都可見
  - 頁面切換時播放不中斷

**User Story 2.2**: 播放控制
- 作為用戶，我希望能夠控制音樂播放
- 驗收標準：
  - 可以播放、暫停當前歌曲
  - 可以跳到播放清單的下一首、上一首
  - 可以調整音量
  - 播放狀態在所有頁面保持同步

## 技術實施策略

### 第一階段 - 核心功能 (3-4週)
1. **基礎架構搭建**
   - 前端框架初始化
   - 基本路由設置
   - YouTube iframe API整合

2. **播放功能實現**
   - YouTube URL解析器
   - iframe播放器嵌入
   - 基本播放控制

3. **播放清單基礎功能**
   - 播放清單CRUD操作
   - 手動添加YouTube連結
   - 簡單的播放清單播放

### 第二階段 - 用戶系統 (2-3週)
1. **會員系統**
   - 用戶註冊登入
   - 播放清單與用戶關聯
   - 基本的個人資料管理

2. **UI/UX完善**
   - 側邊欄導航實現
   - 底部播放欄設計
   - 響應式佈局調整

### 第三階段 - 優化與完善 (1-2週)
1. **播放體驗優化**
   - 跨頁面播放狀態同步
   - 播放記錄與歷史
   - 播放模式（順序、隨機、重複）

2. **測試與部署**
   - 功能測試
   - 使用者體驗測試
   - 部署準備

## 風險評估（修訂版）

### 降低的風險
1. **API風險消除**: 無需擔心YouTube API配額限制
2. **複雜度降低**: 開發和維護成本顯著減少
3. **版權風險降低**: 直接使用YouTube平台，遵循其使用條款

### 仍需注意的風險
1. **用戶體驗**: 手動添加URL可能影響便利性
2. **YouTube政策**: iframe嵌入政策變更風險
3. **技術限制**: iframe API功能限制

### 風險應對策略
1. **用戶教育**: 提供清楚的URL添加指引
2. **備份方案**: 準備替代的播放方式
3. **漸進式改善**: 未來可考慮增加搜尋功能

## 成功指標（調整版）

### 用戶參與度
- **播放清單創建率**: > 70%（因為需手動添加，期望更高的參與度）
- **平均播放清單歌曲數**: > 10首
- **日活躍用戶**: > 40%
- **平均會話時長**: > 20分鐘

### 技術效能
- **頁面載入時間**: < 2秒
- **播放啟動時間**: < 3秒（iframe載入時間）
- **跨頁面切換流暢度**: 無播放中斷

### 用戶滿意度
- **功能易用性評分**: > 4.0/5.0
- **播放體驗評分**: > 4.2/5.0
- **用戶留存率(7天)**: > 60%

## 結論與建議

這個簡化的技術方案是非常明智的選擇：

### 優勢
1. **快速上線**: 開發時間縮短40-50%
2. **低風險**: 無API依賴，技術風險大幅降低
3. **成本效益**: 開發和維護成本較低
4. **法律安全**: 直接使用YouTube服務，合規性佳

### 建議
1. **MVP先行**: 先實現核心功能，驗證用戶需求
2. **用戶回饋**: 收集使用者對手動添加URL的接受度
3. **漸進式改善**: 根據用戶回饋決定是否未來添加搜尋功能

### 下一步行動
1. 確認前端框架選擇（React或Vue）
2. 設計YouTube URL解析邏輯
3. 規劃iframe播放器整合方案
4. 開始UI/UX設計稿製作

這個方案平衡了功能需求與技術複雜度，是一個可行且務實的產品策略。

---
*業務分析完成於 2025-08-15*
*基於修訂需求的最終分析*